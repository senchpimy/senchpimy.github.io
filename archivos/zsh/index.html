<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Configuracion de zsh</title><link rel=stylesheet href=/css/style.css type=text/css media=all></head><body><main class=content><h1>Configuracion de zsh</h1><div class=contenidos><a href=/entradas/>Entradas</a>
<a href=/archivos/>Archivos</a>
<a href=/wallpapers/>Wallpaper</a>
<a href=/ascci/main/>ASCCI</a>
<a href=/problemas>Problemas</a></div><p>Zsh tambien conovida como Z shell es un interprete de comandos para sistemas Unix, es la shell que viene por defecto en todas las mac.Es similar a la shell bash, pero en mi opinion tiene varias caracteristicas por defecto que la hacen mas moderna. Para aumentar sus capabilidades un administrador de plugins muy facil de instalar, que ya incluye varios plugins, modificaciones y alias asi como un prompt personalizado, este administrador de plugins se llama <strong>Oh-My-Zsh</strong>, lo malo de este es que yo siento que puede hacer la shell muy lenta al cargar por primera vez, asi que lo desinstale y solo agregue lo que necitaba y prompt personalizado, lo demas lo deseche y siento que ahor atengo mas control pues ahora se bien que hace cada cosa y el prompt tiene caracteristicas que no pense que podia tener asi como le quite otras que no me gustaba que tuviera.</p><ul><li><strong>Cuztomizar el prompt:</strong> El prompt es el texto que aparece antes de el cursor en el terminal, y en este aparece informacion como el directorio, el estado de el proyecto de git, el tiempo que tardo en ejecutarse un comando, etc. Asi como modificar los colores y simbolos que salen, para lograr modiicar el prompt utilice un programa llamado starship, este programa soporta la mayoria de las shells y el proceso de insatlaci√≥n y personalizaci√≥n esta en su <a href=https://starship.rs/>sitio web</a>; Yo tengo el siguiente archivo de configuraci√≥n:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>format</span> = <span style=color:#e6db74>&#39;[‚ñë‚ñí‚ñì‚ñà](red)[$os$username $sudo](bg:red black)[ÓÇ¥](red bg:blue)$custom$git\_status$status$cmd\_duration[ÓÇ∞](green)&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>right</span><span style=color:#960050;background-color:#1e0010>\</span><span style=color:#a6e22e>_format</span> = <span style=color:#e6db74>&#34;&#34;&#34;$character$time&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>add</span><span style=color:#960050;background-color:#1e0010>\</span><span style=color:#a6e22e>_newline</span> = <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>palette</span> = <span style=color:#e6db74>&#39;foo&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>palettes</span>.<span style=color:#a6e22e>foo</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>red</span>=<span style=color:#e6db74>&#34;#d12e5f&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>blue</span>=<span style=color:#e6db74>&#34;#324aa8&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>orange</span>=<span style=color:#e6db74>&#34;#ff9e64&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>purple</span>=<span style=color:#e6db74>&#34;#5a4a78&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>pur</span>=<span style=color:#e6db74>&#34;#9a348e&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>green</span>=<span style=color:#e6db74>&#34;#047e84&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>character</span>] <span style=color:#75715e># The name of the module we are configuring is &#39;character&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>success</span><span style=color:#960050;background-color:#1e0010>\</span><span style=color:#a6e22e>_symbol</span> = <span style=color:#e6db74>&#39;[‚ûú](bold green)&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>error</span><span style=color:#960050;background-color:#1e0010>\</span><span style=color:#a6e22e>_symbol</span> = <span style=color:#e6db74>&#39;[‚úó](bold red) &#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>git</span><span style=color:#960050;background-color:#1e0010>\</span><span style=color:#a6e22e>_status</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>style</span>=<span style=color:#e6db74>&#34;bg:orange black&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>deleted</span>=<span style=color:#e6db74>&#34;‚úò ${count} &#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>modified</span>=<span style=color:#e6db74>&#34;!${count} &#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>staged</span>=<span style=color:#e6db74>&#34;+${count} &#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>ahead</span>=<span style=color:#e6db74>&#34;‚á°${count}&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>untracked</span>=<span style=color:#e6db74>&#34;?${count}&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>format</span> = <span style=color:#e6db74>&#34;[ $all\_status$ahead\_behind ]($style)[ÓÇ∞ ](orange bg:green )&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>up</span><span style=color:#960050;background-color:#1e0010>\</span><span style=color:#a6e22e>_to</span><span style=color:#960050;background-color:#1e0010>\</span><span style=color:#a6e22e>_date</span> = <span style=color:#e6db74>&#39;‚úì&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>status</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>style</span> = <span style=color:#e6db74>&#39;bg:green blink pur bold&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>symbol</span> = <span style=color:#e6db74>&#39;üî¥&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>success</span><span style=color:#960050;background-color:#1e0010>\</span><span style=color:#a6e22e>_symbol</span> = <span style=color:#e6db74>&#39;üî¥&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>format</span> = <span style=color:#e6db74>&#39;[$symbol$common\_meaning$signal\_name$maybe\_int]($style)&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>map</span><span style=color:#960050;background-color:#1e0010>\</span><span style=color:#a6e22e>_symbol</span> = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>disabled</span> = <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>sudo</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>symbol</span> = <span style=color:#e6db74>&#39;Ôêï&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>disabled</span> = <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>format</span>=<span style=color:#e6db74>&#34;as $symbol &#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>time</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>disabled</span> = <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>time</span><span style=color:#960050;background-color:#1e0010>\</span><span style=color:#a6e22e>_format</span> = <span style=color:#e6db74>&#34;%H:%M&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>format</span> = <span style=color:#e6db74>&#34;üïô$time($style) &#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>username</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>format</span>=<span style=color:#e6db74>&#34;$user&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>show</span><span style=color:#960050;background-color:#1e0010>\</span><span style=color:#a6e22e>_always</span> = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>cmd</span><span style=color:#960050;background-color:#1e0010>\</span><span style=color:#a6e22e>_duration</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>style</span> = <span style=color:#e6db74>&#39;bg:green blink pur bold&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>format</span>=<span style=color:#e6db74>&#34;[$duration]($style)&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>os</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>disabled</span>=<span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>format</span>=<span style=color:#e6db74>&#34;$symbol&#34;</span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>symbols</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>Linux</span>=<span style=color:#e6db74>&#34;ÔÖº &#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>custom</span>.<span style=color:#a6e22e>dir</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>command</span> = <span style=color:#e6db74>&#39;Dirpath&#39;</span> 
</span></span><span style=display:flex><span><span style=color:#a6e22e>when</span> = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>format</span> = <span style=color:#e6db74>&#39;[$output]($style)[ÓÇ¥](blue bg:orange)&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>style</span>=<span style=color:#e6db74>&#34;bg:blue bold&#34;</span>
</span></span></code></pre></div><p>Lo que me da el siguiente prompt:</p><p><img src=/pro_img/prompt.png alt></p><ul><li><strong>Alias:</strong> Los alias es un texto definido para que la shell lo interprete como uno o varios comandos juntos con una o varias opciones, segun lo que sea definido, todos mis alias estan en mi archvio <strong>.zshrc</strong> pero aqui hay algunos</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>alias ls<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;ls --color=auto&#34;</span> 
</span></span><span style=display:flex><span>alias diff<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;diff --color&#39;</span>
</span></span><span style=display:flex><span>alias gc<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git commit -m&#39;</span>
</span></span><span style=display:flex><span>alias ga<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git add&#39;</span>
</span></span><span style=display:flex><span>alias gu<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git add -u&#39;</span>
</span></span><span style=display:flex><span>alias gs<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git status&#39;</span>
</span></span><span style=display:flex><span>alias gr<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git restore&#39;</span>
</span></span><span style=display:flex><span>alias gd<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;git diff&#39;</span>
</span></span><span style=display:flex><span>alias pac<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;sudo pacman&#39;</span>
</span></span><span style=display:flex><span>alias lf<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;lfrun&#39;</span>
</span></span></code></pre></div><ul><li><strong>Keybindings:</strong> Los keybindings son combinaciones de letras que si las presiones ejecutaran ciertos comandos, en este caso tengo <strong>Ctrl+e</strong> el cual abrira el comando que actualmente estoy escribiendo en neovim para que lo pueda editar y <strong>Ctrl+o</strong> el cual abre lf en un modo en el cual puedo buscar el directorio en el cual tengo quiero hacer un cambio, los codigos para estos son los siguientes</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e>#&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp; SWITCH DIRS &amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;</span>
</span></span><span style=display:flex><span>lfcd <span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>tmp<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>mktemp<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>lf -last-dir-path<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$tmp<span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;</span>$@<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> -f <span style=color:#e6db74>&#34;</span>$tmp<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>dir<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>cat <span style=color:#e6db74>&#34;</span>$tmp<span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>rm -f <span style=color:#e6db74>&#34;</span>$tmp<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span> -d <span style=color:#e6db74>&#34;</span>$dir<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>[</span> <span style=color:#e6db74>&#34;</span>$dir<span style=color:#e6db74>&#34;</span> !<span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>pwd<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]</span> <span style=color:#f92672>&amp;&amp;</span> cd <span style=color:#e6db74>&#34;</span>$dir<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>bindkey -s <span style=color:#e6db74>&#39;^o&#39;</span> <span style=color:#e6db74>&#39;lfcd\n&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp; Edit Line &amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;</span>
</span></span><span style=display:flex><span>autoload edit-command-line; zle -N edit-command-line
</span></span><span style=display:flex><span>bindkey <span style=color:#e6db74>&#39;^e&#39;</span> edit-command-line
</span></span><span style=display:flex><span>* **Sugestiones:** Cuando quiero escribir un comando con un archivo si presiono **tab** zsh va a tratar de autocompletar lo que estaba tratando de escribir con una sugerencia, el motor es bastante inteligente y puede automaticamente seleccionar archivos del tipo especifico del cual el comando requiere, pero para mejorar esto le puse dos configuraciones, la cual le permite buscar en los archivo que comiencen con un <span style=color:#e6db74>&#34;.&#34;</span> y que no distinga entre mayusculas y minusculas, asi mismo que coloree las tipos de los archivos y que muestre el bloque blanco cuando se esta en el modo de seleccion.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>autoload -U compinit
</span></span><span style=display:flex><span>zstyle <span style=color:#e6db74>&#39;:completion:\*&#39;</span> menu <span style=color:#66d9ef>select</span>
</span></span><span style=display:flex><span>zmodload zsh/complist
</span></span><span style=display:flex><span>compinit
</span></span><span style=display:flex><span><span style=color:#ae81ff>\_</span>comp<span style=color:#ae81ff>\_</span>options+<span style=color:#f92672>=(</span>globdots<span style=color:#f92672>)</span> <span style=color:#75715e># Include hidden files.</span>
</span></span><span style=display:flex><span>zstyle <span style=color:#e6db74>&#39;:completion:\*&#39;</span> matcher-list <span style=color:#e6db74>&#39;&#39;</span> <span style=color:#e6db74>&#39;m:{a-zA-Z}={A-Za-z}&#39;</span> <span style=color:#e6db74>&#39;r:|[.\_-]=\* r:|=\*&#39;</span> <span style=color:#e6db74>&#39;l:|=\* r:|=\*&#39;</span>
</span></span><span style=display:flex><span>eval <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>dircolors<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>zstyle <span style=color:#e6db74>&#39;:completion:\*&#39;</span> list-colors <span style=color:#e6db74>${</span>(s.:.)LS<span style=color:#ae81ff>\_</span>COLORS<span style=color:#e6db74>}</span>
</span></span><span style=display:flex><span><span style=color:#75715e># FInalmente utilize syntax-highlighting para los comandos, para lograr esto tuve que instalar **zsh-syntax-highlighting** con pacman y luego activarlo con el siguiente codigo</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>source /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
</span></span></code></pre></div></main></body></html>