<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Raspberry Pi Setup</title><link rel=stylesheet href=/css/style.css type=text/css media=all></head><body><main class=content><h1>Raspberry Pi Setup</h1><div class=contenidos><a href=/entradas/>Entradas</a>
<a href=/archivos/>Archivos</a>
<a href=/wallpapers/>Wallpaper</a>
<a href=/problemas>Problemas</a></div><p>Continuando con mi configuracion de mi Raspberry pi decidi ademas de la pantalla colocarle un ventilador y un boton de apagado encendido.</p><p>La configuracion y funcionamiento de el script de la pantalla ya fue explicado en <a href=oled.html>este enlace</a>.</p><p>Para el boton intente utilizar <a href=https://github.com/Howchoo/pi-power-button>este script</a> debido a que tiene la funcionalidad de apagar y prender la raspberry pi desde el mismo boton, este no fue implementado debido a que interferia con la comunicacion I2C de la pantalla por lo que escribi mi porpio programa, con antirebote y con un delay para que la Raspberry no se apague con movientos o con presiones accidentales, este es el codigo (Python)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span> <span style=color:#75715e>#Aqui no estan incluidas las librerias</span>
</span></span><span style=display:flex><span> pin<span style=color:#f92672>=</span><span style=color:#ae81ff>27</span>
</span></span><span style=display:flex><span> i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span> GPIO<span style=color:#f92672>.</span>setup(pin,GPIO<span style=color:#f92672>.</span>IN,pull\_up\_down<span style=color:#f92672>=</span>GPIO<span style=color:#f92672>.</span>PUD\_UP)
</span></span><span style=display:flex><span> <span style=color:#66d9ef>while</span> <span style=color:#66d9ef>True</span>:
</span></span><span style=display:flex><span>    time<span style=color:#f92672>.</span>sleep(<span style=color:#ae81ff>0.5</span>)
</span></span><span style=display:flex><span> <span style=color:#66d9ef>if</span> GPIO<span style=color:#f92672>.</span>input(pin)<span style=color:#f92672>==</span><span style=color:#66d9ef>False</span>:
</span></span><span style=display:flex><span>     i<span style=color:#f92672>=</span>i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span> <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>     i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span> <span style=color:#66d9ef>if</span> (i<span style=color:#f92672>&gt;</span><span style=color:#ae81ff>6</span>):
</span></span><span style=display:flex><span>     subprocess<span style=color:#f92672>.</span>run(<span style=color:#e6db74>&#34;poweroff&#34;</span>,shell<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span></code></pre></div><p>Este es un codigo simple que solo toma el pin 27 GPIO (BCM MODE) de la raspberry y lee una entrada simple LOW, el proceso se ejecuta cada 0.5 segundos y si el pin 27 se encuentra en LOW, entonces se suma 1 a la variable que &ldquo;cuenta&rdquo; el tiempo que estuvo presionado, al esta llegar a 6 se ejecuta un apagado del dispositivo de forma segura, en caso contrario el contador se reinicia</p><p>Para el ventilador tuve problemas pues mi ventilador de 3 pines en la mayoria del tiempo fallaba el control pwm y no lo seguia, la programacion funciona (en teoria) pero en mi caso personal las fallas del ventilador no me permitian hacer nas pruebas y mejorar mi codigo.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span> GPIO<span style=color:#f92672>.</span>setup(<span style=color:#ae81ff>11</span>,GPIO<span style=color:#f92672>.</span>OUT)
</span></span><span style=display:flex><span> pwm<span style=color:#f92672>=</span>GPIO<span style=color:#f92672>.</span>PWM(<span style=color:#ae81ff>11</span>,<span style=color:#ae81ff>100</span>)
</span></span><span style=display:flex><span> pwm<span style=color:#f92672>.</span>start(<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span> <span style=color:#66d9ef>while</span> <span style=color:#66d9ef>True</span>:
</span></span><span style=display:flex><span>     temp<span style=color:#f92672>=</span>str(subprocess<span style=color:#f92672>.</span>check_output(<span style=color:#e6db74>&#39;/usr/bin/vcgencmd measure\_temp&#39;</span>,shell<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>))
</span></span><span style=display:flex><span>     temp<span style=color:#f92672>=</span>float(temp[<span style=color:#ae81ff>7</span>:<span style=color:#f92672>-</span><span style=color:#ae81ff>5</span>])
</span></span><span style=display:flex><span>     val_pwm<span style=color:#f92672>=</span>int((temp <span style=color:#f92672>-</span> <span style=color:#ae81ff>45</span>) <span style=color:#f92672>*</span> (<span style=color:#ae81ff>100</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>0</span>) <span style=color:#f92672>//</span> (<span style=color:#ae81ff>70</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>45</span>) <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span> <span style=color:#66d9ef>if</span> (temp<span style=color:#f92672>&gt;</span><span style=color:#ae81ff>50</span>):
</span></span><span style=display:flex><span>    pwm<span style=color:#f92672>.</span>ChangeDutyCycle(val_pwm)
</span></span><span style=display:flex><span> <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>     pwm<span style=color:#f92672>.</span>ChangeDutyCycle(<span style=color:#ae81ff>0</span>)
</span></span></code></pre></div><p>Este script toma la temperatura de la cpu desde un comando ya incorporado y la utiliza para activar, dasctivar o variar la velocidad de un ventilador, subiendo las revoluciones si tiene una tempreatura elevada o bajandolas o apagandose si esta a una temperatura aceptable</p><p>Para poder ejecutar todo al mismo tiempo sin tener que hacer muchos malabares el programa principal (con el programa de la pantalla incluido), es un script que ejecuta estos 3 diferentes programas como procesos hijos, el del boton y el del ventilador nunca terminan de ejecutarse pero el de la pantalla si, esto fue una de las raxones por lo cual lo hice de esta forma, el rpograma final quedaria asi:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span><span style=color:#f92672>import</span> RPi.GPIO <span style=color:#66d9ef>as</span> GPIO
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> subprocess
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> time
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> board
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> busio
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> digitalio
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> PIL <span style=color:#f92672>import</span> Image, ImageDraw, ImageFont
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> adafruit_ssd1306
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> multiprocessing <span style=color:#f92672>import</span> Process
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>Oled_screen</span>():
</span></span><span style=display:flex><span> oled_reset <span style=color:#f92672>=</span> digitalio<span style=color:#f92672>.</span>DigitalInOut(board<span style=color:#f92672>.</span>D4)
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> <span style=color:#75715e># Display Parameters</span>
</span></span><span style=display:flex><span> WIDTH <span style=color:#f92672>=</span> <span style=color:#ae81ff>128</span>
</span></span><span style=display:flex><span> HEIGHT <span style=color:#f92672>=</span> <span style=color:#ae81ff>64</span>
</span></span><span style=display:flex><span> BORDER <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> <span style=color:#75715e># Use for I2C.</span>
</span></span><span style=display:flex><span> i2c <span style=color:#f92672>=</span> board<span style=color:#f92672>.</span>I2C()
</span></span><span style=display:flex><span> oled <span style=color:#f92672>=</span> adafruit_ssd1306<span style=color:#f92672>.</span>SSD1306_I2C(WIDTH, HEIGHT, i2c, addr<span style=color:#f92672>=</span><span style=color:#ae81ff>0x3C</span>, reset<span style=color:#f92672>=</span>oled_reset)
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> image<span style=color:#f92672>=</span> Image<span style=color:#f92672>.</span>open(<span style=color:#e6db74>&#39;lain.ppm&#39;</span>)<span style=color:#f92672>.</span>convert(<span style=color:#e6db74>&#39;1&#39;</span>)
</span></span><span style=display:flex><span> oled<span style=color:#f92672>.</span>image(image)
</span></span><span style=display:flex><span> oled<span style=color:#f92672>.</span>show()
</span></span><span style=display:flex><span> time<span style=color:#f92672>.</span>sleep(<span style=color:#ae81ff>4</span>)
</span></span><span style=display:flex><span> oled<span style=color:#f92672>.</span>fill(<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span> oled<span style=color:#f92672>.</span>show()
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> <span style=color:#75715e># Clear display.</span>
</span></span><span style=display:flex><span> oled<span style=color:#f92672>.</span>fill(<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span> oled<span style=color:#f92672>.</span>show()
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> <span style=color:#75715e># Create blank image for drawing.</span>
</span></span><span style=display:flex><span> <span style=color:#75715e># Make sure to create image with mode &#39;1&#39; for 1-bit color.</span>
</span></span><span style=display:flex><span> image <span style=color:#f92672>=</span> Image<span style=color:#f92672>.</span>new(<span style=color:#e6db74>&#34;1&#34;</span>, (oled<span style=color:#f92672>.</span>width, oled<span style=color:#f92672>.</span>height))
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> <span style=color:#75715e># Get drawing object to draw on image.</span>
</span></span><span style=display:flex><span> draw <span style=color:#f92672>=</span> ImageDraw<span style=color:#f92672>.</span>Draw(image)
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> <span style=color:#75715e># Draw a white background</span>
</span></span><span style=display:flex><span> draw<span style=color:#f92672>.</span>rectangle((<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, oled<span style=color:#f92672>.</span>width, oled<span style=color:#f92672>.</span>height), outline<span style=color:#f92672>=</span><span style=color:#ae81ff>255</span>, fill<span style=color:#f92672>=</span><span style=color:#ae81ff>255</span>)
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> font <span style=color:#f92672>=</span> ImageFont<span style=color:#f92672>.</span>truetype(<span style=color:#e6db74>&#39;PixelOperator.ttf&#39;</span>, <span style=color:#ae81ff>16</span>)
</span></span><span style=display:flex><span> <span style=color:#75715e>#font = ImageFont.load_default()</span>
</span></span><span style=display:flex><span> start<span style=color:#f92672>=</span>time<span style=color:#f92672>.</span>time()
</span></span><span style=display:flex><span> <span style=color:#66d9ef>while</span> <span style=color:#66d9ef>True</span>:
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> <span style=color:#75715e># Draw a black filled box to clear the image.</span>
</span></span><span style=display:flex><span> draw<span style=color:#f92672>.</span>rectangle((<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, oled<span style=color:#f92672>.</span>width, oled<span style=color:#f92672>.</span>height), outline<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>, fill<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> <span style=color:#75715e># Shell scripts for system monitoring from here : https://unix.stackexchange.com/questions/119126/command-to-display-memory-usage-disk-usage-and-cpu-load</span>
</span></span><span style=display:flex><span> cmd <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;hostname -I | cut -d</span><span style=color:#ae81ff>\&#39;</span><span style=color:#e6db74> </span><span style=color:#ae81ff>\&#39;</span><span style=color:#e6db74> -f1&#34;</span>
</span></span><span style=display:flex><span> IP <span style=color:#f92672>=</span> subprocess<span style=color:#f92672>.</span>check_output(cmd, shell <span style=color:#f92672>=</span> <span style=color:#66d9ef>True</span> )
</span></span><span style=display:flex><span> cmd <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;top -bn1 | grep load | awk &#39;{printf </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>CPU: </span><span style=color:#e6db74>%.2f</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>, $(NF-2)}&#39;&#34;</span>
</span></span><span style=display:flex><span> CPU <span style=color:#f92672>=</span> subprocess<span style=color:#f92672>.</span>check_output(cmd, shell <span style=color:#f92672>=</span> <span style=color:#66d9ef>True</span> )
</span></span><span style=display:flex><span> cmd <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;free -m | awk &#39;NR==2{printf </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>Mem: </span><span style=color:#e6db74>%s</span><span style=color:#e6db74>/</span><span style=color:#e6db74>%s</span><span style=color:#e6db74>MB </span><span style=color:#e6db74>%.2f%%</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>, $3,$2,$3\*100/$2 }&#39;&#34;</span>
</span></span><span style=display:flex><span> MemUsage <span style=color:#f92672>=</span> subprocess<span style=color:#f92672>.</span>check_output(cmd, shell <span style=color:#f92672>=</span> <span style=color:#66d9ef>True</span> )
</span></span><span style=display:flex><span> cmd <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;df -h | awk &#39;$NF==</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>/</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>{printf </span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>Disk: </span><span style=color:#e6db74>%d</span><span style=color:#e6db74>/</span><span style=color:#e6db74>%d</span><span style=color:#e6db74>GB </span><span style=color:#e6db74>%s</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>, $3,$2,$5}&#39;&#34;</span>
</span></span><span style=display:flex><span> Disk <span style=color:#f92672>=</span> subprocess<span style=color:#f92672>.</span>check_output(cmd, shell <span style=color:#f92672>=</span> <span style=color:#66d9ef>True</span> )
</span></span><span style=display:flex><span> cmd <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;vcgencmd measure_temp |cut -f 2 -d &#39;=&#39;&#34;</span>
</span></span><span style=display:flex><span> temp <span style=color:#f92672>=</span> subprocess<span style=color:#f92672>.</span>check_output(cmd, shell <span style=color:#f92672>=</span> <span style=color:#66d9ef>True</span> )
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> <span style=color:#75715e># Pi Stats Display</span>
</span></span><span style=display:flex><span> draw<span style=color:#f92672>.</span>text((<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>), <span style=color:#e6db74>&#34;IP: &#34;</span> <span style=color:#f92672>+</span> str(IP,<span style=color:#e6db74>&#39;utf-8&#39;</span>), font<span style=color:#f92672>=</span>font, fill<span style=color:#f92672>=</span><span style=color:#ae81ff>255</span>)
</span></span><span style=display:flex><span> draw<span style=color:#f92672>.</span>text((<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>16</span>), str(CPU,<span style=color:#e6db74>&#39;utf-8&#39;</span>) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;%&#34;</span>, font<span style=color:#f92672>=</span>font, fill<span style=color:#f92672>=</span><span style=color:#ae81ff>255</span>)
</span></span><span style=display:flex><span> draw<span style=color:#f92672>.</span>text((<span style=color:#ae81ff>80</span>, <span style=color:#ae81ff>16</span>), str(temp,<span style=color:#e6db74>&#39;utf-8&#39;</span>) , font<span style=color:#f92672>=</span>font, fill<span style=color:#f92672>=</span><span style=color:#ae81ff>255</span>)
</span></span><span style=display:flex><span> draw<span style=color:#f92672>.</span>text((<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>32</span>), str(MemUsage,<span style=color:#e6db74>&#39;utf-8&#39;</span>), font<span style=color:#f92672>=</span>font, fill<span style=color:#f92672>=</span><span style=color:#ae81ff>255</span>)
</span></span><span style=display:flex><span> draw<span style=color:#f92672>.</span>text((<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>48</span>), str(Disk,<span style=color:#e6db74>&#39;utf-8&#39;</span>), font<span style=color:#f92672>=</span>font, fill<span style=color:#f92672>=</span><span style=color:#ae81ff>255</span>)
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span> <span style=color:#75715e>#Display Image </span>
</span></span><span style=display:flex><span> oled<span style=color:#f92672>.</span>image(image)
</span></span><span style=display:flex><span> oled<span style=color:#f92672>.</span>show()
</span></span><span style=display:flex><span> time<span style=color:#f92672>.</span>sleep(<span style=color:#ae81ff>.1</span>)
</span></span><span style=display:flex><span> <span style=color:#66d9ef>if</span> ((time<span style=color:#f92672>.</span>time()<span style=color:#f92672>-</span>start)<span style=color:#f92672>/</span><span style=color:#ae81ff>60</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>2</span>):
</span></span><span style=display:flex><span> oled<span style=color:#f92672>.</span>fill(<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span> oled<span style=color:#f92672>.</span>show()
</span></span><span style=display:flex><span> <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>Fan_control</span>():
</span></span><span style=display:flex><span> GPIO<span style=color:#f92672>.</span>setup(<span style=color:#ae81ff>11</span>,GPIO<span style=color:#f92672>.</span>OUT)
</span></span><span style=display:flex><span> pwm<span style=color:#f92672>=</span>GPIO<span style=color:#f92672>.</span>PWM(<span style=color:#ae81ff>11</span>,<span style=color:#ae81ff>100</span>)
</span></span><span style=display:flex><span> pwm<span style=color:#f92672>.</span>start(<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span> <span style=color:#66d9ef>while</span> <span style=color:#66d9ef>True</span>:
</span></span><span style=display:flex><span> temp<span style=color:#f92672>=</span>str(subprocess<span style=color:#f92672>.</span>check_output(<span style=color:#e6db74>&#39;/usr/bin/vcgencmd measure_temp&#39;</span>,shell<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>))
</span></span><span style=display:flex><span> temp<span style=color:#f92672>=</span>float(temp[<span style=color:#ae81ff>7</span>:<span style=color:#f92672>-</span><span style=color:#ae81ff>5</span>])
</span></span><span style=display:flex><span> val_pwm<span style=color:#f92672>=</span>int((temp <span style=color:#f92672>-</span> <span style=color:#ae81ff>45</span>) \<span style=color:#f92672>*</span> (<span style=color:#ae81ff>100</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>0</span>) <span style=color:#f92672>//</span> (<span style=color:#ae81ff>70</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>45</span>) <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span> <span style=color:#66d9ef>if</span> (temp<span style=color:#f92672>&gt;</span><span style=color:#ae81ff>50</span>):
</span></span><span style=display:flex><span> pwm<span style=color:#f92672>.</span>ChangeDutyCycle(val_pwm)
</span></span><span style=display:flex><span> <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span> pwm<span style=color:#f92672>.</span>ChangeDutyCycle(<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>Power_button</span>():
</span></span><span style=display:flex><span> pin<span style=color:#f92672>=</span><span style=color:#ae81ff>27</span>
</span></span><span style=display:flex><span> i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span> GPIO<span style=color:#f92672>.</span>setup(pin,GPIO<span style=color:#f92672>.</span>IN,pull_up_down<span style=color:#f92672>=</span>GPIO<span style=color:#f92672>.</span>PUD_UP)
</span></span><span style=display:flex><span> <span style=color:#66d9ef>while</span> <span style=color:#66d9ef>True</span>:
</span></span><span style=display:flex><span> time<span style=color:#f92672>.</span>sleep(<span style=color:#ae81ff>0.5</span>)
</span></span><span style=display:flex><span> <span style=color:#66d9ef>if</span> GPIO<span style=color:#f92672>.</span>input(pin)<span style=color:#f92672>==</span><span style=color:#66d9ef>False</span>:
</span></span><span style=display:flex><span> i<span style=color:#f92672>=</span>i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span> <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span> i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span> <span style=color:#66d9ef>if</span> (i<span style=color:#f92672>&gt;</span><span style=color:#ae81ff>6</span>):
</span></span><span style=display:flex><span> subprocess<span style=color:#f92672>.</span>run(<span style=color:#e6db74>&#34;poweroff&#34;</span>,shell<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Oled<span style=color:#f92672>=</span>Process(target<span style=color:#f92672>=</span>Oled_screen)
</span></span><span style=display:flex><span>Fan<span style=color:#f92672>=</span>Process(target<span style=color:#f92672>=</span>Fan_control)
</span></span><span style=display:flex><span>butonn<span style=color:#f92672>=</span>Process(target<span style=color:#f92672>=</span>Power_button)
</span></span><span style=display:flex><span>Oled<span style=color:#f92672>.</span>start()
</span></span><span style=display:flex><span>Fan<span style=color:#f92672>.</span>start()
</span></span><span style=display:flex><span>butonn<span style=color:#f92672>.</span>start()
</span></span></code></pre></div></main></body></html>