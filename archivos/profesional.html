<!DOCTYPE html>
<head>
    <h1>Pagina Profesional</h1>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div class="contenidos">
        <a href="../index.html">Inicio</a>
        <a href="../entradas/index.html" >Entradas</a>
        <a href="../wallpapers/index.html">Wallpapers</a>
        <a href="../ascci/index.html">ASSCI</a>
    </div>
    <div class="todo">
	    <div class="texto">
	    	Viendo que mi pagina se queda algo simple, pero aun asi me gusta, decidi hacer esta misma pagina, con los mismos contenidos pero con otros estilos, y para no tener una copia de todos los archivos que tengo aqui, que tendria que sincronizar cada vez que haga una modificación, pense en usar mi pagina principal para obtener el html de su contenido pero cambiar sus estilos, para hacer esto hice un simple prorama en go que hace especificamente esto:
		<div class="codigo">
			package main

			import (
				"fmt"
				"io"
				"io/ioutil"
				"net/http"
				"strings"
			)
			
			const domain = "https://senchpimy.xyz"
			
			func main() {
				fmt.Println("Server Start")
			        http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
					path := r.URL.Path
					if strings.HasSuffix(path,".css"){
						if path=="/ascci/style.css"{
							provide_style(w,"style_ascci.css")
						}else{
							provide_style(w,"style.css")
						}
					}else if strings.HasSuffix(path,".html") || path=="/"{
						html:=request(path)
						fmt.Fprint(w,html+"&ltmeta name='viewport' content='width=device-widht, initial-scale=1.0'&gt")
					}else{
						html:=request(path)
						fmt.Fprint(w,html)
					}
				})
			
			        http.ListenAndServe(":3002", nil)
			}
			
			 func request(url string)(foo string){
				resp, err := http.Get(domain+url)
				if err != nil {
					fmt.Println("erro get")
				}
				defer resp.Body.Close()
				body, err := io.ReadAll(resp.Body)
				if err != nil {
					fmt.Println("erro read")
				}
				return string(body)
			 }
			
			 func provide_style(w http.ResponseWriter,style_path string){
				w.Header().Set("Content-Type", "text/css")
				data, err := ioutil.ReadFile(style_path)
				if err != nil {
				    fmt.Println(err)
				}
				style:=string(data)
				fmt.Fprint(w,style)
			 }
			
		</div>
		Lo que este programa hace es hacer una petición a la pagina especificada y cuando el programa detecta que esta peticion es la que busca los archivos este la remplaza por cualquier archivo especificado.
	    </div>
    </div>
</body>
