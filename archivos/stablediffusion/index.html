<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Stable Diffusion</title><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&family=Open+Sans:wght@400;600&display=swap" rel=stylesheet><link rel=stylesheet href=/css/style.css type=text/css media=all></head><body><main class=content><h1>Stable Diffusion</h1><div class=contenidos><a href=/entradas/>Entradas</a>
<a href=/archivos/>Archivos</a>
<a href=/wallpapers/>Wallpaper</a>
<a href=/problemas>Problemas</a></div><p><strong>Stable Diffusion</strong>, es un modelo de inteligencia artifical que sirve para generar imagenes, lo bueno de este modeloes que es <strong>open source</strong> y se puede ejecutar de forma local, entonces lo quise ejecutar en mi propia maquina, entonces vi que una de las formas más rapida de poder usar este
modelo es usando el programa <strong><a href=https://github.com/AUTOMATIC1111/stable-diffusion-webui>stable-diffusion-webui</a></strong>, este programa funciona en casi todas las computadoras de forma automatica, solo hay que ejecutar el script de instalacion y asi deberia funcionar, pero en mi computadora
y por el hardware que tengo tuve que hacer unos pasos extras.</p><p>Al intentar ejecutar el script por primera vez, este no descaragba la version de <strong>ROCm</strong> necesaria para funcionar, luego de tiempo de investigar me di cuenta que mi tarjeta grafica todavia no estaba soportada por este software, asi que deje de intentarlo por un tiempo hasta que vi la noticia
que la nueva version ya funcionaba con la tarjeta que tenia, entonces intente seguir los pasos anteriores otra vez, pero seguia teniendo el mismo error, entonces intente unos forks de <strong>stable-diffusion-webui</strong>, y uno logro funcionar pero este usaba el cpu en lugar de la gpu, segui revisando
los reportes de problemas en el github de <strong>stable-diffusion-webui</strong> y vi que el soporte para mi tarjeta ya estaba agregado, pero aun asi los cambio que vi no estaban en la version que descargue, entonces vi que <strong>stable-diffusion-webui</strong> tenia varias <strong>branches</strong> y estaba descargando la
version estable, cuando los cambio para poder soportar la version nueva estaban en la rama de desarrollo (<em>dev</em>), entonces elimine el repositorio que habia descargado y use este comando para descargar la rama que necesitaba:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span> git clone --branch dev https://github.com/AUTOMATIC1111/stable-diffusion-webui
</span></span></code></pre></div><p>Con esto descargue la version correcta, la cual descargaba la version más nueva de <strong>pytorch</strong> y la version <strong>5.5</strong> de <strong>ROCm</strong> en lugar de la estable <strong>5.4</strong>, con esto elscript ya funciono y avanzo, pero justo en la ultima linea del script despues de ejecutarlo me daba un error de
<strong>segmentation fault</strong>, que al buscar este error, era por que por algun motivo tambien detectaba la grafica dentro de mi cpu y no funciona bien, por lo que hay que exportar la siguiente variables:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span> export ROCR_VISIBLE_DEVICES<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> 
</span></span></code></pre></div><p>Con esto el script deberia ignorar la grafica en el cpu, pero por algun motivo a veces tengo el mismo <em>segfault</em>, por lo que para evitar esto primero hay que exportar esa variable sin ningun otro comando y luego en la carpeta de <strong>stable-diffusion-webui</strong> ya podemos ejecutar otra vez lo
siguiente</p><pre tabindex=0><code>export ROCR_VISIBLE_DEVICES=0 &amp;&amp; sh webui.sh
</code></pre><p>Con esto el programa ya me funciono sin ningun problema</p><p><img src=/pro_img/stablediffucion.png alt></p></main></body></html>